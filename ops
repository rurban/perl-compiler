{"version":1,"ops":[{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426241796,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTc3MTU1Ng=="},"added":["Type-Defect"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426241796,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTc3MTU1Nw=="},"added":["Priority-Medium"],"removed":[]},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426241798,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4OTAxNDQx","github-url":"https://github.com/rurban/perl-compiler/issues/120#issuecomment-78901441"},"message":"Comment [#1](https://code.google.com/p/perl-compiler/issues/detail?id=118#c1) originally posted by rurban on 2013-02-05T17:59:21.000Z:\n\nt/testc.sh -O2 -kq 91 and t/testc.sh -O2 -fno-destruct -kq 91 \nboth work ok","files":null},{"type":5,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1446156215,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ0OTgwNDYwMg=="},"added":["CoreTests.522"],"removed":[]},{"type":3,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1446156474,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1MjM0MTk5Nw==","github-url":"https://github.com/rurban/perl-compiler/issues/120#issuecomment-152341997"},"message":"This passes on This branch https://github.com/CpanelInc/perl-compiler/tree/cm522\nt/testc.sh -O3 91","files":null},{"type":5,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1446158615,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50NDQ5ODM1MDg0"},"added":[],"removed":["CoreTests.522"]},{"type":5,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1446158615,"metadata":{"github-id":"MDE0OlVubGFiZWxlZEV2ZW50NDQ5ODM1MDg1"},"added":[],"removed":["Priority-Medium"]},{"type":3,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1446158645,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1MjM0ODQyNw==","github-url":"https://github.com/rurban/perl-compiler/issues/120#issuecomment-152348427"},"message":"This actually passes on command line with perlcc or testc.sh -q. There's a bug with testc.sh causing this to fail.","files":null},{"type":2,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1446762389,"metadata":{"github-id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDU2MzA3Nzgz"},"title":"-O3 PerlIO_flush problem (testc.sh 91)","was":"-O3 PerlIO_flush problem (testc.sh 91)"},{"type":5,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1446762884,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDQ1NjMxNjI3Nw=="},"added":["Priority-Medium"],"removed":[]},{"type":3,"author":{"id":"56586ed5deca9cd92c92f9ff0458b9bd60f911f3"},"timestamp":1446842923,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1NDUyODU5Mg==","github-url":"https://github.com/rurban/perl-compiler/issues/120#issuecomment-154528592"},"message":"This is a segfault which is only triggered when enabling debug...\nwhen saving an AV, we are using $av-\u003eflagspv and earlier flag a PADLIST with @ISA AV...\nwe should not call this method on a PADLIST\n\n``` diff\ndiff --git a/lib/B/C.pm b/lib/B/C.pm\nindex ee7bf92..44ddb2e 100644\n--- a/lib/B/C.pm\n+++ b/lib/B/C.pm\n@@ -4980,7 +4980,9 @@ sub B::AV::save {\n   }\n\n   my ($magic, $av_index) = ('');\n-  $svsect-\u003edebug($fullname, $av-\u003eflagspv) if $debug{flags};\n+  # a PADLIST is tag as an AV but does not have flagspv\n+  #   another option would be to define it:  *B::PADLIST::flagspv = sub { 0 }\n+  $svsect-\u003edebug($fullname, ref $av eq 'B::PADLIST' ? 0 : $av-\u003eflagspv) if $debug{flags};\n   if (!$ispadlist and !$ispadnamelist) {\n     my $sv_ix = $svsect-\u003eindex;\n     $av_index = $xpvavsect-\u003eindex;\n```","files":null},{"type":3,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1447086363,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1NTExMzg3Mg==","github-url":"https://github.com/rurban/perl-compiler/issues/120#issuecomment-155113872"},"message":"@rurban is working on an alternate fix in B::Flags. Keeping this open until B::Flags 0.15 resolves this.","files":null},{"type":3,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1447111833,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDE1NTIzMjI4MA==","github-url":"https://github.com/rurban/perl-compiler/issues/120#issuecomment-155232280"},"message":"using B::Flags 0.15 resolves this issue. Closing ticket.","files":null},{"type":4,"author":{"id":"10c623ced12a685284188dc5ea89cffce509dd3d"},"timestamp":1447111833,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50NDU5NDc4NjA5"},"status":2}]}