{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426242157,"metadata":{"github-id":"MDU6SXNzdWU2MTAzMDc2MQ==","github-url":"https://github.com/rurban/perl-compiler/issues/136","origin":"github"},"title":"Will not build on 5.18","message":"Original [issue 134](https://code.google.com/p/perl-compiler/issues/detail?id=134) created by rurban on 2013-08-29T02:32:20.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. cpanp install B::C\n\u003cb\u003e2.\u003c/b\u003e\n\u003cb\u003e3.\u003c/b\u003e\n\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\nExpected output should be: Installation complete with no Errors, Instead I get:\nInstalling B::C (1.42)\nCPANPLUS::Dist::Base will be removed from the Perl core distribution in the next major release. Please install it from CPAN. It is being used at /usr/share/perl5/vendor_perl/CPANPLUS/Dist/Arch.pm, line 6.\nRunning [/usr/bin/perl -e use strict; BEGIN { my $old = select STDERR; $|++; select $old; $|++; $0 = shift(@ARGV); my $rv = do($0); die $@ if $@; } /root/.cpanplus/5.18.0/build/B-C-1.42/Makefile.PL INSTALLDIRS=site]...\nChecking if your kit is complete...\nLooks good\nWriting Makefile for ByteLoader\nWriting MYMETA.yml and MYMETA.json\nWriting Makefile for B::Stash\nWriting MYMETA.yml and MYMETA.json\nWriting Makefile for B::C\nWriting MYMETA.yml and MYMETA.json\n[ERROR] MAKE failed: No such file or directory /usr/bin/perl bytecode.pl\ncp lib/B/C.pm blib/lib/B/C.pm\ncp lib/B/Stackobj.pm blib/lib/B/Stackobj.pm\ncp lib/B/Bytecode.pm blib/lib/B/Bytecode.pm\ncp lib/B/CC.pm blib/lib/B/CC.pm\ncp lib/B/C/Flags.pm blib/lib/B/C/Flags.pm\ncp perlcompile.pod blib/lib/B/perlcompile.pod\ncp perloptree.pod blib/lib/B/perloptree.pod\ncp lib/B/Disassembler.pm blib/lib/B/Disassembler.pm\ncp lib/B/Bblock.pm blib/lib/B/Bblock.pm\ncp lib/B/Asmdata.pm blib/lib/B/Asmdata.pm\ncp lib/B/Assembler.pm blib/lib/B/Assembler.pm\nmake[1]: Entering directory `/root/.cpanplus/5.18.0/build/B-C-1.42/ByteLoader'\ncp ByteLoader.pm ../blib/lib/ByteLoader.pm\ncp BcVersions.pod ../blib/lib/BcVersions.pod\ncc -c   -D_REENTRANT -D_GNU_SOURCE -fno-strict-aliasing -pipe -fstack-protector -I/usr/local/include -D_LARGEFILE_SOURCE -D_FILE_OFFSET_BITS=64 -march=x86-64 -mtune=generic -O2 -pipe -fstack-protector --param=ssp-buffer-size=4   -DVERSION=\\\u0026quot;0.09\\\u0026quot; -DXS_VERSION=\\\u0026quot;0.09\\\u0026quot; -fPIC \u0026quot;-I/usr/lib/perl5/core_perl/CORE\u0026quot;   byterun.c\nIn file included from /usr/lib/perl5/core_perl/CORE/perl.h:3471:0,\n                 from byterun.c:17:\n/usr/lib/perl5/core_perl/CORE/sv.h:457:26: error: expected ‘:’, ‘,’, ‘;’, ‘}’ or ‘__attribute__’ before ‘.’ token\n #define xpv_len xpv_len_u.xpvlenu_len\n                          ^\nbyterun.h:89:11: note: in expansion of macro ‘xpv_len’\n     int   xpv_len;\n           ^\nIn file included from byterun.c:34:0:\nbyterun.c: In function ‘byterun’:\nbytecode.h:133:19: error: ‘struct byteloader_xpv’ has no member named ‘xpv_len_u’\n      bstate-\u0026gt;bs_pv.xpv_len = (U32)arg;    \\\n                   ^\nbyterun.c:366:3: note: in expansion of macro ‘BGET_PV’\n   BGET_PV(arg);\n   ^\nbytecode.h:137:19: error: ‘struct byteloader_xpv’ has no member named ‘xpv_len_u’\n      bstate-\u0026gt;bs_pv.xpv_len = 0;     \\\n                   ^\nbyterun.c:366:3: note: in expansion of macro ‘BGET_PV’\n   BGET_PV(arg);\n   ^\nIn file included from /usr/lib/perl5/core_perl/CORE/perl.h:3471:0,\n                 from byterun.c:17:\nbytecode.h:262:29: error: ‘struct byteloader_xpv’ has no member named ‘xpv_len_u’\n  SvLEN_set(sv, bstate-\u0026gt;bs_pv.xpv_len); \\\n                             ^\n/usr/lib/perl5/core_perl/CORE/sv.h:1312:36: note: in definition of macro ‘SvLEN_set’\n   (((XPV*)  SvANY(sv))-\u0026gt;xpv_len = (val)); } STMT_END\n                                    ^\nbyterun.c:435:3: note: in expansion of macro ‘BSET_xpv’\n   BSET_xpv(bstate-\u0026gt;bs_sv);\n   ^\nIn file included from byterun.c:34:0:\nbytecode.h:289:58: error: ‘XPVCV’ has no member named ‘xcv_gv’\n #define BSET_xcv_gv(sv, arg) ((SvANY((CV*)bstate-\u0026gt;bs_sv))-\u0026gt;xcv_gv = (GV*)arg)\n                                                          ^\nbyterun.c:707:3: note: in expansion of macro ‘BSET_xcv_gv’\n   BSET_xcv_gv(bstate-\u0026gt;bs_sv, arg);\n   ^\nbytecode.h:616:20: error: ‘XPVCV’ has no member named ‘xcv_gv’\n      SvANY((CV*)cv)-\u0026gt;xcv_gv = 0;/* cv has been hijacked */ \\\n                    ^\nbyterun.c:1455:3: note: in expansion of macro ‘BSET_push_begin’\n   BSET_push_begin(PL_beginav, arg);\n   ^\nbyterun.c:1572:3: error: ‘PL_formfeed’ undeclared (first use in this function)\n   PL_formfeed = arg;\n   ^\nbyterun.c:1572:3: note: each undeclared identifier is reported only once for each function it appears in\nbyterun.c:1581:8: error: ‘OP’ has no member named ‘op_latefree’\n   PL_op-\u0026gt;op_latefree = arg;\n        ^\nbyterun.c:1590:8: error: ‘OP’ has no member named ‘op_latefreed’\n   PL_op-\u0026gt;op_latefreed = arg;\n        ^\nbyterun.c:1599:8: error: ‘OP’ has no member named ‘op_attached’\n   PL_op-\u0026gt;op_attached = arg;\n        ^\nmake[1]: *** [byterun.o] Error 1\nmake[1]: Leaving directory`/root/.cpanplus/5.18.0/build/B-C-1.42/ByteLoader'\nmake: **\\* [subdirs] Error 2\n\n[ERROR] Unable to create a new distribution object for 'B::C' -- cannot continue\n\n**\\* Install log written to:\n  /root/.cpanplus/install-logs/B-C-1.42-1377742206.log\n\nError installing 'B::C'\nProblem installing one or more modules\n\n\u003cb\u003eWhat version of the product are you using? On what operating system?\u003c/b\u003e\nThis is perl 5, version 18, subversion 0 (v5.18.0) built for x86_64-linux-thread-multi\n\nCopyright 1987-2013, Larry Wall\n\nPerl may be copied only under the terms of either the Artistic License or the\nGNU General Public License, which may be found in the Perl 5 source kit.\n\nComplete documentation for Perl, including FAQ lists, should be found on\nthis system using \u0026quot;man perl\u0026quot; or \u0026quot;perldoc perl\u0026quot;.  If you have access to the\nInternet, point your browser at http://www.perl.org/, the Perl Home Page.\n\nArch Linux\n\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\nOn Ubuntu 13.04 on perl 5.14.2 fails to install with 23/49 test programs and 38/670 subtests fail.","files":null}]}