{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199620,"metadata":{"github-id":"MDU6SXNzdWU2MDkyMjY1Nw==","github-url":"https://github.com/rurban/perl-compiler/issues/9","origin":"github"},"title":"test 11: index (missing fbm_compile)","message":"Original [issue 7](https://code.google.com/p/perl-compiler/issues/detail?id=7) created by rurban on 2009-12-02T21:54:58.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\nt/testc.sh 11\n\n$x=\u0026quot;Cannot use\u0026quot;; print index $x, \u0026quot;Can\u0026quot;\n0 PASS\n=\u0026gt;\n-1 FAIL\n\nNick Koston analyzed it:\nPerl_ck_index, i.e. fbm_compile(), the Boyer-Moore setup, is never called \nin the compiled binary, it is called when run from perl.\n\nI am pretty sure this is causing Perl_fbm_instr (called from pp.c in \npp_index) at ~ line 730 in util.c\n          top2:\n             if ((tmp = table[*s])) {\nto break down.\n\nAdding fbm_compile(\u0026amp;sv_list[%d], 0) to BM::save fixed it","files":null}]}