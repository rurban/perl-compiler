{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426277806,"metadata":{"github-id":"MDU6SXNzdWU2MTIxODIzNQ==","github-url":"https://github.com/rurban/perl-compiler/issues/175","origin":"github"},"title":"constant name cannot use block name","message":"Original [issue 173](https://code.google.com/p/perl-compiler/issues/detail?id=173) created by atoomic on 2013-11-07T19:11:57.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. cannot use BEGIN as a constant \n2. using BEGIN or END as a constant raise some warnings but test is ok\n3. can use CHECK as a constant\n\nWhat is the expected output? \n\u0026gt; perl -E 'use constant BEGIN   =\u0026gt; 42; print \u0026quot;ok\\n\u0026quot; if BEGIN == 42;'\nok\n\u0026gt; perl -E 'use constant INIT   =\u0026gt; 42; print \u0026quot;ok\\n\u0026quot; if INIT == 42;'\nok\n\u0026gt; perl -E 'use constant CHECK   =\u0026gt; 42; print \u0026quot;ok\\n\u0026quot; if CHECK == 42;'\nok\n\nWhat do you see instead?\n\u0026gt; perlcc -r -e 'use constant INIT   =\u0026gt; 42; print \u0026quot;ok\\n\u0026quot; if INIT == 42;'\nUndefined subroutine called.\nINIT failed--call queue abortedUndefined subroutine called.\nINIT failed--call queue aborted.\n\n\u0026gt; perlcc -r -e 'use constant BEGIN   =\u0026gt; 42; print \u0026quot;ok\\n\u0026quot; if BEGIN == 42;'\n/usr/local/cpanel/3rdparty/perl/514/bin/perlcc: Unexpected compiler output\nPrototype mismatch: sub main::BEGIN () vs none at /usr/local/cpanel/3rdparty/perl/514/lib/perl5/5.14.3/i386-linux-64int/Tie/Hash/NamedCapture.pm line 1.\n Constant subroutine BEGIN redefined at /usr/local/cpanel/3rdparty/perl/514/lib/perl5/5.14.3/i386-linux-64int/Tie/Hash/NamedCapture.pm line 1.\nok\n\n\u0026gt; perlcc -r -e 'use constant CHECK   =\u0026gt; 42; print \u0026quot;ok\\n\u0026quot; if CHECK == 42;'\nok\n\n\u003cb\u003eWhat perl version are you using? Threaded? -DDEBUGGING? On what operating\u003c/b\u003e\n\u003cb\u003esystem?\u003c/b\u003e\n\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e","files":null}]}