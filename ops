{"version":1,"ops":[{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200076,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3NjI3NQ=="},"added":["Type-Defect"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200076,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3NjI3Ng=="},"added":["OpSys-All"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200076,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3NjI3Nw=="},"added":["Priority-Medium"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200076,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3NjI3OA=="},"added":["Component-Logic"],"removed":[]},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200078,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY2ODc5","github-url":"https://github.com/rurban/perl-compiler/issues/38#issuecomment-78666879"},"message":"Comment [#1](https://code.google.com/p/perl-compiler/issues/detail?id=36#c1) originally posted by rurban on 2010-08-18T13:29:40.000Z:\n\nThis is a known and documented limitation.\nBut it should be fixable.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200082,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY2OTQx","github-url":"https://github.com/rurban/perl-compiler/issues/38#issuecomment-78666941"},"message":"Comment [#2](https://code.google.com/p/perl-compiler/issues/detail?id=36#c2) originally posted by rurban on 2010-08-18T22:24:38.000Z:\n\nI didn't find where this limitation is documented.\nUntil now, I only know the test case.\nI need to understand the real problem to be able to find correct workarounds and to help in fixing it.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200087,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY3MDAx","github-url":"https://github.com/rurban/perl-compiler/issues/38#issuecomment-78667001"},"message":"Comment [#3](https://code.google.com/p/perl-compiler/issues/detail?id=36#c3) originally posted by rurban on 2010-08-20T19:27:37.000Z:\n\nThe problem in issue 36 seems to be dead code.\nIn my example there is a while loop which is exited by an unconditional \"last\" statement. But there are additional opcodes between the \"last\" statement and the end of the loop. These are not executed, but never the less are collected by B::Bblock::find_leaders.\nfind_leaders returns a hash of opcodes which start basic blocks.\nThe values of the hash are added to the end of @bblock_todo.\nWhen processing @bblock_todo, referenced basic blocks are added to the front of @bblock_todo.\nThe dead code from find_leaders is processed not until all other reachable basic blocks have been processed. But in this final stage, the cxstack is no longer valid and B::CC aborts.\n\nI propose to fix the issue by these changes:\n1. Do not add the basic blocks of find_leaders to @bblock_todo.\n2. Add missing basic blocks to @bblock_todo when the corresponding label is generated.\n\nWith the attached patch, B::CC no longer aborts when applied to netspoc.\nThe results of t/cc*.t remain unchanged.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200091,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY3MDYx","github-url":"https://github.com/rurban/perl-compiler/issues/38#issuecomment-78667061"},"message":"Comment [#4](https://code.google.com/p/perl-compiler/issues/detail?id=36#c4) originally posted by rurban on 2010-08-23T05:35:32.000Z:\n\nThanks. Fixed with r556\nNo testcase yet added tough.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200095,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY3MTI1","github-url":"https://github.com/rurban/perl-compiler/issues/38#issuecomment-78667125"},"message":"Comment [#5](https://code.google.com/p/perl-compiler/issues/detail?id=36#c5) originally posted by rurban on 2010-08-23T09:13:14.000Z:\n\ntestcase added with r558","files":null},{"type":4,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200097,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjUxMzc2NTk2"},"status":2}]}