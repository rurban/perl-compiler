{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426202752,"metadata":{"github-id":"MDU6SXNzdWU2MDkzNDM3OQ==","github-url":"https://github.com/rurban/perl-compiler/issues/60","origin":"github"},"title":"SEGV sv_free of END block vars","message":"Original [issue 58](https://code.google.com/p/perl-compiler/issues/detail?id=58) created by rurban on 2011-01-04T10:05:21.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. t/testc.sh 28\n\nok:\nperl -Mblib blib/script/perlcc -r -S -e 'my($fname,$tmp_fh);while(!open($tmp_fh,\u0026quot;\u0026gt;\u0026quot;,($fname=q{ccode28_} . rand(999999999999)))){$bail++;die \u0026quot;Failed to create a tmp file after 500 tries\u0026quot; if $bail\u0026gt;500;}print {$tmp_fh} q{$x=\u0026quot;ok\u0026quot;;1;};close($tmp_fh);sleep 1;require $fname; print $x;'\n\nnot ok:\nperl -Mblib blib/script/perlcc -r -S -e 'my($fname,$tmp_fh);while(!open($tmp_fh,\u0026quot;\u0026gt;\u0026quot;,($fname=q{ccode28_} . rand(999999999999)))){$bail++;die \u0026quot;Failed to create a tmp file after 500 tries\u0026quot; if $bail\u0026gt;500;}print {$tmp_fh} q{$x=\u0026quot;ok\u0026quot;;1;};close($tmp_fh);sleep 1;END{unlink $fname}; require $fname; print $x;'\n# \u0026nbsp;0  0x5615fba5 in Perl_sv_free ()\n# \u0026nbsp;1  0x56111b12 in Perl_pad_undef ()\n# \u0026nbsp;2  0x56109002 in Perl_cv_undef ()\n# \u0026nbsp;3  0x5615f8a4 in Perl_sv_clear ()\n# \u0026nbsp;4  0x5615fd11 in Perl_sv_free ()\n# \u0026nbsp;5  0x56182a31 in Perl_leave_scope ()\n# \u0026nbsp;6  0x5614a2a4 in S_my_exit_jump ()\n# \u0026nbsp;7  0x5614a11c in Perl_my_failure_exit ()\n# \u0026nbsp;8  0x5612f4a1 in Perl_vcroak ()\n# \u0026nbsp;9  0x5612f4bf in Perl_croak ()\n# \u0026nbsp;10 0x56149d39 in Perl_call_list ()\n# \u0026nbsp;11 0x561446dc in perl_run ()","files":null}]}