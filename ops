{"version":1,"ops":[{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199921,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3MzU5Mw=="},"added":["Type-Defect"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199921,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3MzU5NA=="},"added":["Priority-Critical"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199921,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3MzU5NQ=="},"added":["OpSys-All"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199921,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MTM3MzU5Ng=="},"added":["Milestone-Release1.0"],"removed":[]},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199923,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY0Njg1","github-url":"https://github.com/rurban/perl-compiler/issues/30#issuecomment-78664685"},"message":"Comment [#1](https://code.google.com/p/perl-compiler/issues/detail?id=28#c1) originally posted by rurban on 2010-07-09T22:08:54.000Z:\n\nSome how we are getting the wrong package:\n\nsave package_pv \"\" for method_name\n\n   xpv_list[285].xpv_pv = savepvn(\"Data::Dumper\", 12);\n    svop_list[652].op_ppaddr = PL_ppaddr[OP_CONST];\n    listop_list[312].op_ppaddr = PL_ppaddr[OP_ANONLIST];\n    op_list[1125].op_ppaddr = PL_ppaddr[OP_PUSHMARK];\n    unop_list[1145].op_ppaddr = PL_ppaddr[OP_RV2AV];\n    svop_list[653].op_ppaddr = PL_ppaddr[OP_GV];\n    svop_list[653].op_sv = (SV_)gv_list[2];\n    listop_list[313].op_ppaddr = PL_ppaddr[OP_ANONLIST];\n    op_list[1126].op_ppaddr = PL_ppaddr[OP_PUSHMARK];\n    xpviv_list[601].xpv_pv = savepvn(\"Dumpxs\", 6);\n    svop_list[654].op_ppaddr = PL_ppaddr[OP_METHOD_NAMED];\n    gv_list[140] = gv_fetchpv(\"main::Dumpxs\", TRUE, SVt_PV);\n    SvFLAGS(gv_list[140]) = 0x600d;\n    GvFLAGS(gv_list[140]) = 2;\n    GvLINE(gv_list[140]) = 783;\n    if (SvPOK(gv_list[140])) SvPVX(gv_list[140]) = emptystring;\n    SvREFCNT(gv_list[140]) += 1;\n    GvSVn(gv_list[140]) = (SV_)\u0026sv_list[2156];\n    GvCV(gv_list[140]) = (CV*)(\u0026sv_list[2155]);\n    GvFILE(gv_list[140]) = \"/usr/lib/perl5/site_perl/5.8.9/i686-linux/B/C.pm\";\n\n```\nCvGV(\u0026sv_list[2155]) = gv_list[140];\nCvFILE(\u0026sv_list[2155]) = \"/usr/lib/perl5/site_perl/5.8.9/i686-linux/B/C.pm\";\nCvSTASH(\u0026sv_list[2155]) = hv0;\n```","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199927,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY0NzI4","github-url":"https://github.com/rurban/perl-compiler/issues/30#issuecomment-78664728"},"message":"Comment [#2](https://code.google.com/p/perl-compiler/issues/detail?id=28#c2) originally posted by rurban on 2010-08-08T21:32:05.000Z:\n\nSome notes about this bug:\n  gv_list[140](the GvCV for this XSUB) is wrong. \n  empty name, wrong GvFILE, ...\n\nAutoloading XSUB works, just non-autoloaded XSUB get an empty GV.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199932,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY0Nzgx","github-url":"https://github.com/rurban/perl-compiler/issues/30#issuecomment-78664781"},"message":"Comment [#3](https://code.google.com/p/perl-compiler/issues/detail?id=28#c3) originally posted by rurban on 2010-12-28T17:43:06.000Z:\n\n\u0026lt;empty\u0026gt;","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199936,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY0ODMy","github-url":"https://github.com/rurban/perl-compiler/issues/30#issuecomment-78664832"},"message":"Comment [#4](https://code.google.com/p/perl-compiler/issues/detail?id=28#c4) originally posted by rurban on 2010-12-28T18:04:56.000Z:\n\nBTW: The known workaround for this problem is to statically link all external modules, even so's.\n\ne.g. by using -Bstatic for cc_harness or adding all so's/dll's to the cc_harness cmdline.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199940,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY0ODg1","github-url":"https://github.com/rurban/perl-compiler/issues/30#issuecomment-78664885"},"message":"Comment [#5](https://code.google.com/p/perl-compiler/issues/detail?id=28#c5) originally posted by rurban on 2011-01-03T22:43:10.000Z:\n\nFixed two major problems in dl_init so far:\n1. XSLoader::load requires the dll/soname in the callers context. (Oh my, never seen such a poor context dependant API!). This filename was not yet available in the %xsub info. Added to the CopFile of a new context frame; as hack, but seems to be stable.\n2. plain DynaLoader dl_init missed a @ISA Dynaloader for the to be loaded module. Changed -\u003ebootstrap to -\u003eDynaLoader::bootstrap_inherit which sets the ISA and is available in all perls. \n\nBut there's still a problem calling a dynaloaded xs.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199944,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc4NjY0OTM5","github-url":"https://github.com/rurban/perl-compiler/issues/30#issuecomment-78664939"},"message":"Comment [#6](https://code.google.com/p/perl-compiler/issues/detail?id=28#c6) originally posted by rurban on 2011-02-28T18:00:53.000Z:\n\ntest 45 passes since about Feb 15 (around r912). The soname was wrong.\n\nThe package_pv problem is finally fixed since r928","files":null},{"type":4,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199947,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjUxMzc0MDE5"},"status":2}]}