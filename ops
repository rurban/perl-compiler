{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426202802,"metadata":{"github-id":"MDU6SXNzdWU2MDkzNDU1NA==","github-url":"https://github.com/rurban/perl-compiler/issues/63","origin":"github"},"title":"swash_init: utf8_heavy imports Carp unnecessarily","message":"Original [issue 61](https://code.google.com/p/perl-compiler/issues/detail?id=61) created by rurban on 2011-02-28T17:48:17.000Z:\n\nSince 5.13.10 without -fno-fold the mandatory swash_init(\u0026quot;utf8\u0026quot;) compiles \u0026amp;utf8::AUTOLOAD and then it imports Carp.\n\n  sub AUTOLOAD {\n    require \u0026quot;utf8_heavy.pl\u0026quot;;\n    goto \u0026amp;$AUTOLOAD if defined \u0026amp;$AUTOLOAD;\n    require Carp;\n    Carp::croak(\u0026quot;Undefined subroutine $AUTOLOAD called\u0026quot;);\n  }\n\nWe can safely assume utf8_heavy.pl to be added, and can get rid \nof the failure case to require Carp.\nThis will save a lot of speed and memory, even when we need utf8 e.g. to do case-folding (m//i).\n\nWe could think of generalizing the pattern\n  sub AUTOLOAD {\n    require \u0026quot;...\u0026quot;;\n    goto \u0026amp;$AUTOLOAD if defined \u0026amp;$AUTOLOAD;\n    #... skipped\n  }\nskipping everything after the goto if compile-time AUTOLOAD succeeds.","files":null}]}