{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426203351,"metadata":{"github-id":"MDU6SXNzdWU2MDkzNjc3OA==","github-url":"https://github.com/rurban/perl-compiler/issues/98","origin":"github"},"title":"gvcv defined should not create the gvcv (and mark the whole package)","message":"Original [issue 96](https://code.google.com/p/perl-compiler/issues/detail?id=96) created by rurban on 2012-02-15T00:49:21.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n\n  defined($B::VERSION) or print q(ok);\n\nwill store $B::VERSION and therefore whole B.\n\nInstead PADOP and GVSV should check for op eq 'gvsv' and op-\u0026gt;next eq 'defined' and skip the gvsv-\u0026gt;save.\n\n$ perl -MO=Concise,-exec -e'defined($B::VERSION) \u0026amp;\u0026amp; print q(ok)'\n1  \u0026lt;0\u0026gt; enter \n2  \u0026lt;;\u0026gt; nextstate(main 1 -e:1) v:{\n3  \u0026lt;$\u0026gt; gvsv(*B::VERSION) s\n4  \u0026lt;1\u0026gt; defined sK/1\n5  \u0026lt;|\u0026gt; and(other-\u0026gt;6) vK/1\n6      \u0026lt;0\u0026gt; pushmark s\n7      \u0026lt;$\u0026gt; const(PV \u0026quot;ok\u0026quot;) s\n8      \u0026lt;@\u0026gt; print vK\n9  \u0026lt;@\u0026gt; leave[1 ref] vKP/REFC","files":null}]}