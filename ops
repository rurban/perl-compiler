{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200041,"metadata":{"github-id":"MDU6SXNzdWU2MDkyNDM1OA==","github-url":"https://github.com/rurban/perl-compiler/issues/36","origin":"github"},"title":"B::C -O4 ignores $/ = undef","message":"Original [issue 34](https://code.google.com/p/perl-compiler/issues/detail?id=34) created by rurban on 2010-08-16T10:32:29.000Z:\n\nThis test program fails with B::C and optimization level 4.\n# test5.pl\n\n$/ = undef;\nopen FILE, 'test5.txt';\nmy $first = \u0026lt;FILE\u0026gt;;\nmy $rest = \u0026lt;FILE\u0026gt;;\nprint \u0026quot;1:\\n$first\u0026quot;;\n# print \u0026quot;2:\\n$rest\u0026quot;;\n# test5.txt\n\nline1\n# line2\n\nExpected output:\n$ perl test5.pl\n1:\nline1\nline2\n2:\n\nWith B::C and optimization level 4 the assignment to $/ seems to be ignored.\n$ perlcc -o test5 -Wb=-O4 test5.pl\npccmfI__.c: In function ‘perl_init_aaaa’:\npccmfI__.c:324: warning: assignment from incompatible pointer type\npccmfI__.c:356: warning: assignment from incompatible pointer type\npccmfI__.c:375: warning: assignment from incompatible pointer type\npccmfI__.c:386: warning: assignment from incompatible pointer type\npccmfI__.c:437: warning: assignment from incompatible pointer type\npccmfI__.c:476: warning: assignment from incompatible pointer type\npccmfI__.c:526: warning: assignment from incompatible pointer type\n$ ./test5\n1:\nline1\n2:\nline2\n\nUsed versions:\n- perl v5.10.1 (*) built for i486-linux-gnu-thread-mult\n  (from Ubuntu 10.04)\n- B::C version 1.27","files":null}]}