{"version":1,"ops":[{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278005,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MjU2OTc1Mg=="},"added":["Type-Defect"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278005,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MjU2OTc1Mw=="},"added":["Priority-Critical"],"removed":[]},{"type":5,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278005,"metadata":{"github-id":"MDEyOkxhYmVsZWRFdmVudDI1MjU2OTc1NA=="},"added":["Milestone-NextRelease"],"removed":[]},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278007,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxNDEx","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341411"},"message":"Comment [#1](https://code.google.com/p/perl-compiler/issues/detail?id=185#c1) originally posted by rurban on 2013-11-11T18:21:19.000Z:\n\n\u0026lt;empty\u0026gt;","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278011,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxNDky","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341492"},"message":"Comment [#2](https://code.google.com/p/perl-compiler/issues/detail?id=185#c2) originally posted by rurban on 2013-11-11T19:32:13.000Z:\n\nof note:\n\nIf bytes is not in effect then $a eq \"\\x{00FF}\"\n\nSo, remove the bytes and this should be the case:\n\nprint \"not \" unless $a eq \"\\x{00FF}\" \u0026\u0026 bytes::length($a) == 1; print \"ok\\n\";\n\nIf the compiler is doofing the bytes pragma then the test woudl fail","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278016,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxNTY1","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341565"},"message":"Comment [#3](https://code.google.com/p/perl-compiler/issues/detail?id=185#c3) originally posted by rurban on 2013-11-11T19:57:09.000Z:\n\nthe attached script demonstrates the states of both a unicode string and a bytes string with and without the bytes pragma in effect.\n\nhere is the diff of the output as per and as compiled (- is from .t, + is from .bin):\n\n -- use bytes w/ a Unicode string --\n-$u eq \\xc3\\xbf: 1\n+$u eq \\xc3\\xbf: 0\n $u eq \\x{00ff}: 0\n-CORE::length: 2\n+CORE::length: 1\n bytes::length: 2\n\nso it appears that the bytes pragma does not have the same effect on things when given a unicode string in compiled code as it does in uncompiled code","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278020,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxNjI3","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341627"},"message":"Comment [#4](https://code.google.com/p/perl-compiler/issues/detail?id=185#c4) originally posted by rurban on 2013-11-13T22:28:27.000Z:\n\nbytes::import is not called, neither in C nor CC","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278024,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxNjg2","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341686"},"message":"Comment [#5](https://code.google.com/p/perl-compiler/issues/detail?id=185#c5) originally posted by rurban on 2013-11-14T23:45:50.000Z:\n\nIssue 224 has been merged into this issue.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278028,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxNzQy","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341742"},"message":"Comment [#6](https://code.google.com/p/perl-compiler/issues/detail?id=185#c6) originally posted by rurban on 2013-11-27T18:12:18.000Z:\n\nThe problem is that bytes_heavy.pl is not loaded at compile-time, \nand because of #\u0026nbsp;159 and a failing try_autoload() the right methods are not called.\n\nWe want to enforce loading bytes_heavy.pl earlier and \npatch bytes::AUTOLOAD to not use Carp.\n\nSomething like this in B::GV:\n-  if ($fullname eq 'bytes::AUTOLOAD' and !$include_package{'bytes_heavy.pl'}) { # omit Carp\n-    no strict 'refs';\n-    eval q[sub bytes::AUTOLOAD {\n-      require \"bytes_heavy.pl\";\n-      goto \u0026$AUTOLOAD if defined \u0026$AUTOLOAD;\n-      warn(\"Undefined subroutine $AUTOLOAD called\");\n-    }];\n-    warn \"Redefined bytes::AUTOLOAD to omit Carp\\n\" if $debug{gv};\n-    warn \"Forcing early bytes_heavy.pl\\n\" if $debug{pkg};\n-    $gv = svref_2object( *{\"bytes::AUTOLOAD\"} );\n-    $sym = savesym( $gv, $sym ); # override new gv ptr to sym\n-    require 'bytes_heavy.pl';\n-    mark_package('bytes_heavy.pl', 1);\n-    walk_syms('bytes'); #before we stub unloaded CVs\n-  }\n  +","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278033,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxODE0","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341814"},"message":"Comment [#7](https://code.google.com/p/perl-compiler/issues/detail?id=185#c7) originally posted by rurban on 2013-11-27T21:46:02.000Z:\n\n\u0026lt;empty\u0026gt;","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278037,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxODky","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341892"},"message":"Comment [#8](https://code.google.com/p/perl-compiler/issues/detail?id=185#c8) originally posted by rurban on 2013-11-28T15:47:24.000Z:\n\nIssue 235 has been merged into this issue.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278041,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQxOTc2","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79341976"},"message":"Comment [#9](https://code.google.com/p/perl-compiler/issues/detail?id=185#c9) originally posted by rurban on 2013-11-28T15:50:52.000Z:\n\nassertion repro with debugging perl:\n$ pcc -e '$d = pack(\"U*\", 0xe3, 0x81, 0xAF); { use bytes; $ol = bytes::length($d) } print $ol'\nAssertion failed: (!CvCVGV_RC(cv)), function Perl_newATTRSUB, file op.c, line 6279.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278045,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQyMDc2","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79342076"},"message":"Comment [#10](https://code.google.com/p/perl-compiler/issues/detail?id=185#c10) originally posted by rurban on 2013-12-02T19:19:59.000Z:\n\nfixed the assertion from #\u0026nbsp;9 with 1.42_61\nworking now on merging branch `bytes_heavy`","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278050,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQyMTU5","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79342159"},"message":"Comment [#11](https://code.google.com/p/perl-compiler/issues/detail?id=185#c11) originally posted by rurban on 2013-12-03T17:54:25.000Z:\n\nIssue 255 has been merged into this issue.","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278054,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQyMjQ2","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79342246"},"message":"Comment [#12](https://code.google.com/p/perl-compiler/issues/detail?id=185#c12) originally posted by rurban on 2013-12-10T14:52:50.000Z:\n\n\u0026lt;empty\u0026gt;","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278058,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQyMzMz","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79342333"},"message":"Comment [#13](https://code.google.com/p/perl-compiler/issues/detail?id=185#c13) originally posted by rurban on 2014-01-30T20:52:57.000Z:\n\nFixed with 1.43_03  Store cop_hints to support lexical numeric hints pragmas","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278062,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQyNDMw","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79342430"},"message":"Comment [#14](https://code.google.com/p/perl-compiler/issues/detail?id=185#c14) originally posted by toddr on 2014-01-30T23:39:05.000Z:\n\nNot fixed in upstream/release?\n\n$\u003eperl  -e'use bytes; my $a = pack(\"U\", 0xFF); print \"not \" unless $a eq \"\\xc3\\xbf\"; print \"ok\\n\";'  \nok\n\n$\u003eperlcc -r  -e'use bytes; my $a = pack(\"U\", 0xFF); print \"not \" unless $a eq \"\\xc3\\xbf\"; print \"ok\\n\";'\nnot ok","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278067,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQyNTIw","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79342520"},"message":"Comment [#15](https://code.google.com/p/perl-compiler/issues/detail?id=185#c15) originally posted by toddr on 2014-01-30T23:51:32.000Z:\n\nMerged to master but not in release?","files":null},{"type":3,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278071,"metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc5MzQyNTk1","github-url":"https://github.com/rurban/perl-compiler/issues/187#issuecomment-79342595"},"message":"Comment [#16](https://code.google.com/p/perl-compiler/issues/detail?id=185#c16) originally posted by rurban on 2014-01-31T00:26:22.000Z:\n\nI'll move forward release when the test results from master are ok. These tests run overnight.","files":null},{"type":4,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278073,"metadata":{"github-id":"MDExOkNsb3NlZEV2ZW50MjUyNTcyMTcx"},"status":2}]}