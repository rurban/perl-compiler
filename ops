{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426277688,"metadata":{"github-id":"MDU6SXNzdWU2MTIxNzIyNQ==","github-url":"https://github.com/rurban/perl-compiler/issues/170","origin":"github"},"title":"alarm signal triggered twice when using die","message":"Original [issue 168](https://code.google.com/p/perl-compiler/issues/detail?id=168) created by atoomic on 2013-11-07T15:40:09.000Z:\n\nwhen using die in the SIG{ALRM}, the ALRM is triggered two times, whereas we should only expect to run it once\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n1. compile that script\n\u0026gt; cat script.pl\nmy $start_time = time;\neval {\n    local $SIG{ALRM} = sub { die \u0026quot;ALARM !\\n\u0026quot; };\n    alarm 1;\n    # perlfunc recommends against using sleep in combination with alarm.\n    1 while (time - $start_time \u0026lt; 3);\n};\nalarm 0;\nprint $@;\nprint \u0026quot;ok\\n\u0026quot; if $@ eq \u0026quot;ALARM!\\n\u0026quot;;\n\nWhat is the expected output? \n\u0026gt; perl t/CORE/op/alarm.t\nALARM !\n\nWhat do you see instead?\n\u0026gt; ./a # compiled version\nALARM !\nALARM !\n\n\u003cb\u003eWhat perl version are you using? Threaded? -DDEBUGGING? On what operating\u003c/b\u003e\n\u003cb\u003esystem?\u003c/b\u003e\n\nperl 5.14.3 unthreaded with centos 6.4 32 bits\n\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\nextract from CORE test op/alarm.t","files":null}]}