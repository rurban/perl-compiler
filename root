{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426277547,"metadata":{"github-id":"MDU6SXNzdWU2MTIxNjE4OQ==","github-url":"https://github.com/rurban/perl-compiler/issues/161","origin":"github"},"title":"wrong method dispatch by dumping unfound methods and missing ISA on empty packages","message":"Original [issue 159](https://code.google.com/p/perl-compiler/issues/detail?id=159) created by atoomic on 2013-11-06T20:42:26.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n\noneliner to reproduce the problem\n\u0026gt; perlcc -r -e '@X::ISA = \u0026quot;Y\u0026quot;; sub Y::z {\u0026quot;Y::z\u0026quot;} print \u0026quot;ok\\n\u0026quot; if  X-\u0026gt;z eq \u0026quot;Y::z\u0026quot;; delete $X::{z}; exit;'\nCan't locate object method \u0026quot;z\u0026quot; via package \u0026quot;X\u0026quot; at -e line 1.\n\nor a more fancy one.... with the exit before the delete....\n\u0026gt; perlcc -r -e '@X::ISA = \u0026quot;Y\u0026quot;; sub Y::z {\u0026quot;Y::z\u0026quot;} print \u0026quot;ok\\n\u0026quot; if  X-\u0026gt;z eq \u0026quot;Y::z\u0026quot;; exit; delete $X::{z}; my $foo;'\nCan't locate object method \u0026quot;z\u0026quot; via package \u0026quot;X\u0026quot; at -e line 1.\n\n\u003cb\u003eWhat is the expected output? What do you see instead?\u003c/b\u003e\n\nexpected result\n\u0026gt; perl -E '@X::ISA = \u0026quot;Y\u0026quot;; sub Y::z {\u0026quot;Y::z\u0026quot;} print \u0026quot;ok\\n\u0026quot; if  X-\u0026gt;z eq \u0026quot;Y::z\u0026quot;; delete $X::{z}; exit;'\nok\n\nnote that removing the final exit can make that test work... \n\n\u003cb\u003eWhat perl version are you using? Threaded? -DDEBUGGING? On what operating\u003c/b\u003e\n\u003cb\u003esystem?\u003c/b\u003e\n\nperl 5.14.3 on centos 6.4 32 bits\n\n\u003cb\u003ePlease provide any additional information below.\u003c/b\u003e\ncomes from CORE test op/method.t","files":null}]}