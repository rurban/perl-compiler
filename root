{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426199555,"metadata":{"github-id":"MDU6SXNzdWU2MDkyMjQ1OQ==","github-url":"https://github.com/rurban/perl-compiler/issues/3","origin":"github"},"title":"Fix regexp for B::C in 5.11, regex_pad wrong and ignored on 5.11","message":"Original [issue 1](https://code.google.com/p/perl-compiler/issues/detail?id=1) created by rurban on 2008-07-28T20:42:53.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n\nperl5.11.0 Makefile.PL\nt/testc.sh\n\nccode2 failed. Got: '', expected: '123'\nccode3.c:89: warning: initialization from incompatible pointer type\nccode3 failed. Got: 'xyxyx', expected: 'zzz2y2y2'\nccode4 failed. Got: 'zxyxyx', expected: 'z2y2y2'\n\nmake test\nt/c.t        (Wstat: 0 Tests: 19 Failed: 10)\n  Failed tests:  6, 8-10, 12, 14, 16-19\n## ccode2 - 5.11\n\nmatch with /\\d/\n(gdb) p *pm\n$1 = {op_next = 0x66513c, op_sibling = 0x665198, op_ppaddr = 0x59a6e9\n\u0026lt;Perl_pp_match\u0026gt;, op_targ = 0, op_type = 31,\n  op_opt = 0, op_latefree = 1, op_latefreed = 0, op_attached = 0, op_spare\n= 0, op_flags = 2 '\\002',\n  op_private = 64 '@', op_first = 0x0, op_last = 0x0, op_pmoffset = 46,\nop_pmflags = 0, op_pmreplrootu = {\n    op_pmreplroot = 0x0, op_pmtargetoff = 0}, op_pmstashstartu =\n{op_pmreplstart = 0x0, op_pmstashpv = 0x0}}\n(gdb) n\n1216        register REGEXP *rx = PM_GETRE(pm);\n(gdb) p *rx\n$2 = {engine = 0x69f690, mother_re = 0x0, extflags = 52428800, minlen = 1,\nminlenret = 1, gofs = 0,\n  substrs = 0x1920188, nparens = 0, intflags = 0, pprivate = 0x1915448,\nlastparen = 0, lastcloseparen = 0,\n  swap = 0x0, offs = 0x191f6c8, subbeg = 0x0, sublen = 0, prelen = 1,\nprecomp = 0x18fb870 \u0026quot;0)\u0026quot;,\n  wrapped = 0x18fb868 \u0026quot;(?-xism:0)\u0026quot;, wraplen = 10, seen_evals = 0,\nparen_names = 0x0, refcnt = 1}","files":null}]}