{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278145,"metadata":{"github-id":"MDU6SXNzdWU2MTIyMTAwOQ==","github-url":"https://github.com/rurban/perl-compiler/issues/192","origin":"github"},"title":"missing STASH magic MAGIC_symtab(:), MRO_WHICH, CACHE_GEN, PKG_GEN","message":"Original [issue 190](https://code.google.com/p/perl-compiler/issues/detail?id=190) created by rurban on 2013-11-11T21:00:50.000Z:\n\nvarious issues are caused by missing STASH magic when storing them.\ne.g.\npure perl for #\u0026nbsp;188\n(gdb) p Perl_sv_dump(CopSTASH(PL_curcop))\nSV = PVHV(0xa28fa0) at 0xa35fc8\n  REFCNT = 1\n  FLAGS = (RMG,OOK,SHAREKEYS)\n  MAGIC = 0xa416e0\n    MG_VIRTUAL = 0\n    MG_TYPE = PERL_MAGIC_symtab(:)\n    MG_LEN = 8\n    MG_PTR = 0xa41710 \u0026quot;\\200\\26\\244\\0\\0\\0\\0\\0\u0026quot;\n  ARRAY = 0xa414c0  (0:6, 1:2)\n  hash quality = 125.0%\n  KEYS = 2\n  FILL = 2\n  MAX = 7\n  RITER = -1\n  EITER = 0x0\n  NAME = \u0026quot;aiieee\u0026quot;\n  ENAME = \u0026quot;aiieee\u0026quot;\n  BACKREFS = 0xa360d0\n    SV = PVAV(0xa23fc8) at 0xa360d0\n      REFCNT = 2\n      FLAGS = ()\n      ARRAY = 0xa42e60\n      FILL = 3\n      MAX = 3\n      ARYLEN = 0x0\n      FLAGS = ()\n  MRO_WHICH = \u0026quot;dfs\u0026quot; (0x77f820)\n  CACHE_GEN = 0x1\n  PKG_GEN = 0x3\n$3 = void\n\nvs compiled:\n\n(gdb) p Perl_sv_dump(CopSTASH(PL_curcop))\nSV = PVHV(0xa31e60) at 0xa46c00\n  REFCNT = 1\n  FLAGS = (OOK,SHAREKEYS)\n  ARRAY = 0xa43080  (0:6, 1:2)\n  hash quality = 125.0%\n  KEYS = 2\n  FILL = 2\n  MAX = 7\n  RITER = -1\n  EITER = 0x0\n  NAME = \u0026quot;aiieee\u0026quot;\n  ENAME = \u0026quot;aiieee\u0026quot;\n  BACKREFS = 0xa46c90\n    SV = PVAV(0xa2d0e0) at 0xa46c90\n      REFCNT = 2\n      FLAGS = ()\n      ARRAY = 0xa48d60\n      FILL = 3\n      MAX = 3\n      ARYLEN = 0x0\n      FLAGS = ()","files":null}]}