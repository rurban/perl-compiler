{"version":1,"ops":[{"type":1,"author":{"id":"51aac7cbb8218ca8d7ebfb58abc8cc3a7d7101b2"},"timestamp":1431397584,"metadata":{"github-id":"MDU6SXNzdWU3NTQzMDQ4Mw==","github-url":"https://github.com/rurban/perl-compiler/issues/199","origin":"github"},"title":"B::C perl5.20.2 URI.pm problem","message":"## test script\n\n``` perl\nuse strict; use warnings;\nuse URI;\n\n#preload modules\nuse URI::_generic;\nuse URI::_foreign;\nuse URI::http;\nuse URI::_server;\nuse Data::Dumper;\n\nmy $url = URI-\u003enew('http://127.0.0.1/path');\n\nmy $url2 = URI-\u003enew($url);\n\nwarn Dumper([$url, $url-\u003epath, $url2, $url2-\u003epath]);\n```\n## expected output\n\nalso same output using compiled version with 5.14.4\n\n```\n# perl uri.pl \n$VAR1 = [\n          bless( do{\\(my $o = 'http://127.0.0.1/path')}, 'URI::http' ),\n          '/path',\n          bless( do{\\(my $o = 'http://127.0.0.1/path')}, 'URI::http' ),\n          '/path'\n        ];\n```\n## compiled output using 5.20.2\n\n```\nbash-4.2# perlcc uri.pl\nbash-4.2# ./uri \n$VAR1 = [\n          bless( do{\\(my $o = 'http://127.0.0.1/path')}, 'URI::http' ),\n          '/path',\n          bless( do{\\(my $o = 'URI::http=SCALAR(0x949840)')}, 'URI::_foreign' ),\n          ':http=SCALAR(0x949840)'\n        ];\n```","files":null}]}