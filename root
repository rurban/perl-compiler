{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426200076,"metadata":{"github-id":"MDU6SXNzdWU2MDkyNDUxNg==","github-url":"https://github.com/rurban/perl-compiler/issues/38","origin":"github"},"title":"B::CC fails on some loops","message":"Original [issue 36](https://code.google.com/p/perl-compiler/issues/detail?id=36) created by rurban on 2010-08-18T08:37:57.000Z:\n\nB::CC fails if applied to this test program.\n# fail4.pl\n\nsub f { shift == 2 }\nsub test {\n    while (1) {\n        last if f(2);\n    }\n    while (1) {\n        last if f(2);\n    }\n# }\n\nThe problem seems to be non deterministic.\nSome runs of B::CC succeed, some fail and others give a warning.\n\n$ while perl -MO=CC,-ofail4.c fail4.pl ; do : ; done\nfail4.pl syntax OK\nfail4.pl syntax OK\n\u0026quot;last\u0026quot; used outside loop\nfail4.pl syntax OK\nfail4.pl syntax OK\nfail4.pl syntax OK\nfail4.pl syntax OK\npanic: leaveloop, no cxstack at /usr/local/lib/perl/5.10.1/B/CC.pm line 1977.\nCHECK failed--call queue aborted.\n\nUsed versions:\n- perl v5.10.1 (*) built for i486-linux-gnu-thread-mult\n  (from Ubuntu 10.04)\n- B::C version 1.27","files":null}]}