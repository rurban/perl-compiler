{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426242262,"metadata":{"github-id":"MDU6SXNzdWU2MTAzMTAzOQ==","github-url":"https://github.com/rurban/perl-compiler/issues/142","origin":"github"},"title":"C boolean hash context","message":"Original [issue 140](https://code.google.com/p/perl-compiler/issues/detail?id=140) created by rurban on 2013-10-30T19:50:41.000Z:\n\n\u003cb\u003eWhat steps will reproduce the problem?\u003c/b\u003e\n\n$ pb  -e'$a=(1=\u0026gt;1);print \u0026quot;ok\u0026quot; if !%a and 1'\nok\n$ pb script/perlcc -r -e'$a=(1=\u0026gt;1);print \u0026quot;ok\u0026quot; if !%a and 1'\n\n$ pb -MO=Concise -e'$a=(1=\u0026gt;1);print \u0026quot;ok\u0026quot; if !%a and 1'\nj  \u0026lt;@\u0026gt; leave[1 ref] vKP/REFC -\u0026gt;(end)\n1     \u0026lt;0\u0026gt; enter -\u0026gt;2\n2     \u0026lt;;\u0026gt; nextstate(main 1 -e:1) v:{ -\u0026gt;3\n7     \u0026lt;2\u0026gt; sassign vKS/2 -\u0026gt;8\n5        \u0026lt;@\u0026gt; list sKP -\u0026gt;6\n3           \u0026lt;0\u0026gt; pushmark v -\u0026gt;4\n-           \u0026lt;0\u0026gt; ex-const v -\u0026gt;4\n  4           \u0026lt;$\u0026gt; const(IV 1) s -\u0026gt;5\n-        \u0026lt;1\u0026gt; ex-rv2sv sKRM_/1 -\u0026gt;7\n  6           \u0026lt;$\u0026gt; gvsv(_a) s -\u0026gt;7\n  8     \u0026lt;;\u0026gt; nextstate(main 1 -e:1) v:{ -\u0026gt;9\n-     \u0026lt;1\u0026gt; null vK/1 -\u0026gt;j\n  f        \u0026lt;|\u0026gt; and(other-\u0026gt;g) vK/1 -\u0026gt;j\n-           \u0026lt;1\u0026gt; null sK/1 -\u0026gt;f\n  d              \u0026lt;|\u0026gt; and(other-\u0026gt;e) sK/1 -\u0026gt;f\n  c                 \u0026lt;1\u0026gt; not sK/1 -\u0026gt;d\n  b                    \u0026lt;1\u0026gt; boolkeys sK/1 -\u0026gt;c\n  a                       \u0026lt;1\u0026gt; rv2hv[t1] sKRM/1 -\u0026gt;b\n  9                          \u0026lt;$\u0026gt; gv(*a) s -\u0026gt;a\n  e                 \u0026lt;$\u0026gt; const(IV 1) s -\u0026gt;f\n  i           \u0026lt;@\u0026gt; print vK -\u0026gt;j\n  g              \u0026lt;0\u0026gt; pushmark s -\u0026gt;h\n  h              \u0026lt;$\u0026gt; const(PV \u0026quot;ok\u0026quot;) s -\u0026gt;i\n\nfails since boolkeys was introduced.","files":null}]}