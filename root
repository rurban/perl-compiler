{"version":1,"ops":[{"type":1,"author":{"id":"dc64d6d260e2683565fe6e13d60cfbe9fec0fa09"},"timestamp":1426278093,"metadata":{"github-id":"MDU6SXNzdWU2MTIyMDU5OQ==","github-url":"https://github.com/rurban/perl-compiler/issues/190","origin":"github"},"title":"?pattern? doesn't match once in B::C","message":"Original [issue 188](https://code.google.com/p/perl-compiler/issues/detail?id=188) created by toddr on 2013-11-11T20:18:16.000Z:\n\nProgram:\n# !perl\n\npackage aiieee;\nsub zlopp {\n    (shift =~ m?zlopp?) ? 1 : 0;\n}\nsub reset_zlopp {\n    reset;\n}\n\npackage main;\nsub ok { my ($ok, $msg) = @_; print(($ok ? 'ok ' : 'not ok' ) . \u0026quot; - $msg\\n\u0026quot;) }\nsub is { my ($want, $got, $msg) = @_; ok($want == $got, $msg) }\n\nis(aiieee::zlopp(\u0026quot;\u0026quot;), 0, \u0026quot;mismatch doesn't match\u0026quot;);\nis(aiieee::zlopp(\u0026quot;zlopp\u0026quot;), 1, \u0026quot;match matches first time\u0026quot;);\nis(aiieee::zlopp(\u0026quot;\u0026quot;), 0, \u0026quot;mismatch doesn't match\u0026quot;);\nis(aiieee::zlopp(\u0026quot;zlopp\u0026quot;), 0, \u0026quot;match doesn't match second time\u0026quot;);\naiieee::reset_zlopp();\nis(aiieee::zlopp(\u0026quot;zlopp\u0026quot;), 1, \u0026quot;match matches after reset\u0026quot;);\n\nWhat is the expected output? \n$\u0026gt;perl minimal.pl\nok  - mismatch doesn't match\nok  - match matches first time\nok  - mismatch doesn't match\nok  - match doesn't match second time\nok  - match matches after reset\n\nWhat do you see instead?\n$\u0026gt;perlcc -r minimal.pl\nok  - mismatch doesn't match\nok  - match matches first time\nok  - mismatch doesn't match\nok  - match doesn't match second time\nnot ok - match matches after reset","files":null}]}